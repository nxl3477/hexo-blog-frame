---
title: ã€Reactã€‘ä¸ºä»€ä¹ˆReact çš„æ–¹æ³•éœ€è¦bind
date: 2019-09-24 19:47:43
categories: React
tags: [React]
---

ä»Šå¤©ä¸‹ç­çš„æ—¶å€™ï¼Œ åŒäº‹é—®æˆ‘React çš„ä¸­çš„æ–¹æ³•ä¸ºä»€ä¹ˆéœ€è¦ç®­å¤´å‡½æ•°åŒ…è£¹ï¼Œ æˆ–è€…æ˜¯bind ç»‘å®šä¸€ä¸‹thisæŒ‡å‘ï¼Œ æ‰èƒ½è¢«è°ƒç”¨ï¼Œ æˆ‘å½“æ—¶ä¹Ÿæ˜¯ä¸€æ„£å•Šï¼Œ è™½ç„¶ä»¥å‰å¥½åƒä¹Ÿå»ç ”ç©¶è¿‡è¿™ä¸ªé—®é¢˜ï¼Œ ä½†å¥½åƒç­”æ¡ˆä¹Ÿå¹¶ä¸æ˜¯é‚£ä¹ˆæ˜ç¡®ã€‚ äºæ˜¯æˆ‘å°±æŠŠå½“æ—¶æˆ‘çš„æƒ³æ³•è·Ÿä»–é˜è¿°äº†ä¸€ä¸‹ï¼Œ å½“æ—¶æˆ‘æ˜¯è¿™ä¹ˆè¯´çš„ï¼š 
> this åœ¨åˆå§‹åŒ–æ—¶æ˜¯æŒ‡å‘çš„å¯¹è±¡å®ä¾‹ï¼Œ ä½†è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ä¸æ˜¯ï¼Œ å› ä¸ºjsxä¸æ˜¯çœŸæ­£çš„dom å®ƒä¼šè¢«è½¬åŒ–ä¸ºè™šæ‹Ÿdom, æ‰€ä»¥äº‹ä»¶æ˜¯é€šè¿‡reactä»£ç†çš„ï¼Œ å¹¶ä¸”è¿™ä¸ªæ¶‰åŠåˆ°javascriptçš„ä½œç”¨åŸŸé—®é¢˜ï¼Œ æ­£å¸¸çš„å˜é‡éƒ½ä¼šæ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œ ä¹Ÿå°±æ˜¯åœ¨ä¹¦å†™é˜¶æ®µå°±èƒ½ç¡®å®šè¯¥å˜é‡çš„ä½œç”¨åŸŸï¼Œ è€Œthis åˆ™æ˜¯ä¸€ä¸ªæ€ªå’–ï¼Œä»–æ˜¯ä¸€ä¸ªåŠ¨æ€ä½œç”¨åŸŸï¼Œ å®ƒæ˜¯åœ¨æ‰§è¡ŒæœŸé—´æ‰ä¼šç¡®å®š this æŒ‡å‘ï¼Œ ä¿—è¯è¯´å°±æ˜¯è°è°ƒç”¨å°±æŒ‡å‘è°ã€‚ å› æ­¤ï¼Œäº‹ä»¶è¢«react ä»£ç†äº†æ³¨å†Œäº†ï¼Œ å¦‚æœæ˜¯æ­£å¸¸æƒ…å†µçš„this åœ¨è°ƒç”¨æœŸé—´è‡ªç„¶æ— æ³•è·å¾—åŸæœ¬çš„class æŒ‡å‘ï¼Œ è‡³äºä¸ºä»€ä¹ˆ this æ˜¯undefind ï¼Œ è¿™æ˜¯å› ä¸º this åº”è¯¥æ˜¯æŒ‡å‘åˆ°äº† window ä¸Šï¼Œ è€Œæ‰§è¡Œreact çš„ä»£ç ä¸­å¼€å¯äº†ä¸¥æ ¼æ¨¡å¼æ‰€ä»¥ this å°±å˜æˆäº†undefind

ä¸Šé¢è¿™äº›ï¼Œ å’‹ä¸€çœ‹å¥½åƒæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œ ä½†æˆ‘ä»”ç»†ä¸€æƒ³å¥½åƒåˆä¸å¤ªå¯¹åŠ²ï¼Œ é—®é¢˜çœŸçš„æ˜¯å‡ºåœ¨ React ä»£ç†æ³¨å†Œäº‹ä»¶çš„æ—¶å€™å—

è®©æˆ‘ä»¬æ¥ä¸€æ¢ç©¶ç«Ÿï¼š

![2019-09-24-20-14-45](http://img.nixiaolei.com/2019-09-24-20-14-45.png)


è¿™æ˜¯React å®˜ç½‘çš„ä¸€æ®µè¯ï¼Œ å¤§è‡´æ„æ€æ˜¯ï¼ˆç”¨çš„ç¿»è¯‘å·¥å…·ğŸ¶ï¼‰:
> ä½ å¿…é¡»è¦å°å¿ƒçš„è¿™JSXå›è°ƒçš„thisã€‚ åœ¨JavaScriptä¸­ï¼Œç±»æ–¹æ³•ä¸æ˜¯é»˜è®¤ç»‘å®šçš„ã€‚ å¦‚æœä½ å¿˜äº†ç»‘å®šthis.handleClickå¹¶æŠŠå®ƒä¼ é€’åˆ°çš„onClickï¼Œè¿™å°†æ˜¯ä¸ç¡®å®šçš„ï¼Œå½“å‡½æ•°å®é™…è¢«è°ƒç”¨çš„æ—¶å€™ã€‚

> è¿™ä¸æ˜¯React çš„è¡Œä¸º; è¿™æ˜¯åœ¨JavaScriptä¸­çš„å‡½æ•°å·¥ä½œçš„åŸç†çš„ä¸€éƒ¨åˆ†ã€‚ é€šå¸¸ï¼Œå¦‚æœæŒ‡çš„æ˜¯æ–¹æ³•ï¼Œæ— éœ€ï¼ˆï¼‰åï¼Œå¦‚onClick = {this.handleClick}ï¼Œåˆ™åº”è¯¥bind æŒ‡å‘ã€‚

> å¦‚æœè°ƒç”¨bindæƒ¹æ¼äº†ä½ ï¼Œå¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°

ä¹Ÿå°±æ˜¯è¯´é—®é¢˜ä¸æ˜¯å‡ºåœ¨äº†React èº«ä¸Šï¼Œ è€Œæ˜¯å‡ºåœ¨äº†javascript è‡ªèº«çš„æ‰§è¡Œæœºåˆ¶ä¸Šã€‚ é‚£è®©æˆ‘ä»¬å›å½’æœ¬è´¨ï¼Œ çœ‹çœ‹åˆ°åº•æ˜¯æ€ä¹ˆä¸€å›äº‹å§ã€‚

è®©æˆ‘ä»¬æ¥çœ‹åŒæ ·ä¸€æ®µä»£ç ï¼Œ ä¸åŒæƒ…å†µä¸‹çš„thisæŒ‡å‘ã€‚


```js
var demo = {
  fn(key) {
    console.log(key, this)
  }
}

demo.fn('1')
// è¿™ä¸€æ­¥å°±ç±»ä¼¼æˆ‘ä»¬åœ¨jsxä¸­çš„äº‹ä»¶èµ‹å€¼æ“ä½œ
var dFn = demo.fn
dFn('2')

var arrowsFn = () => demo.fn('3')
arrowsFn()
```

![2019-09-24-20-25-26](http://img.nixiaolei.com/2019-09-24-20-25-26.png)



æˆ‘ä»¬å¯ä»¥çœ‹åˆ° ï¼Œ2 çš„èµ‹å€¼æ–¹å¼å¯¼è‡´äº†thisæŒ‡å‘çš„ä¸¢å¤±ï¼Œ React çš„äº‹ä»¶æŒ‚è½½æ—¶æˆ‘ä»¬ä¹Ÿæ˜¯å¦‚æ­¤æ“ä½œï¼Œ è¿™ä¹Ÿå°±è¯´æ˜äº†æ˜¯js æœ¬èº«çš„é—®é¢˜è€Œé React å¯¼è‡´çš„ï¼Œ å°½ç®¡React æ²¡æœ‰åšç›¸åº”çš„å¤„ç†ä¹Ÿæœ‰è´£ä»»


è®©æˆ‘ä»¬ç»§ç»­ï¼Œ ä¸æ˜¯è¯´React ä¸­æŒ‡å‘çš„æ˜¯ undefind å—ï¼Œ é‚£æˆ‘ä»¬æ‰“å¼€ä¸¥æ ¼æ¨¡å¼çœ‹çœ‹æ˜¯ä¸æ˜¯å¦‚æ­¤: 

```js
"use strict";
var demo = {
  fn(key) {
    console.log(key, this)
  }
}

demo.fn('1')
var dFn = demo.fn
dFn('2')

var arrowsFn = () => demo.fn('3')
arrowsFn()
```

æœç„¶å¦‚æ­¤ï¼Œ this æŒ‡å‘å˜ä¸ºäº†undefind

![2019-09-24-20-30-04](http://img.nixiaolei.com/2019-09-24-20-30-04.png)


